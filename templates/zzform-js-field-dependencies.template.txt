# Zugzwang Project
# JS code for field dependencies
#
# http://www.zugzwang.org/projects/zzform
#
# @author Gustaf Mossakowski <gustaf@koenige.org>
# @copyright Copyright Â© 2021 Gustaf Mossakowski
# @license http://opensource.org/licenses/lgpl-3.0.html LGPL-3.0
#
<script type="text/javascript">
%%% loop start %%%
document.getElementById('%%% item main_field_id %%%').addEventListener('change', function() {
	dependentRow = document.getElementById('%%% item dependent_field_id %%%').parentNode.parentNode;
	var dependentFieldShown = this.getAttribute('data-dependent_field_if_selected').split(',');
	if (dependentFieldShown.includes(this.value)) {
		dependentRow.classList.remove('hidden')
	} else {
		dependentRow.classList.add('hidden');
	}
});
%%% loop end %%%
</script>
